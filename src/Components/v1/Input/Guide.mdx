import { Meta } from "@storybook/blocks"
import { Chip } from "../Chip"
import { Flex } from "../Flex"
import { Grid } from "../Grid"
import { Icon } from "../Icon"
import { Input } from "../Input"
import { Link } from "../Link"
import { Text } from "../Text"
import { Title } from "../Title"

<Meta title="Componentes/Input/Guia de Uso" />

# üß≠  Guia de Uso

## üìò Vis√£o Geral

O componente `Input` √© um elemento de formul√°rio para entrada de dados do usu√°rio. Ele pode ser utilizado tanto em campos de texto simples quanto em formatos mais espec√≠ficos, como senhas, e-mails ou n√∫meros. Tamb√©m permite a inser√ß√£o de texto multilinha.

O `Input` recebe informa√ß√µes do usu√°rio em diversos contextos, como formul√°rios de cadastro, pesquisa e filtros. Ele pode ser estilizado e configurado para atender a diferentes necessidades, como valida√ß√£o de entrada, uso de *placeholder* e exibi√ß√£o de r√≥tulos.

### ‚öôÔ∏è Tipos de Input

<img src="/assets/text-input-area-variants.png" alt="Exibi√ß√£o do componente de Input em uma lista com as suas varia√ß√µes e estados de texto simples ou multilinha, com mensagem de erro, ajuda e sucesso" style={{ margin: '0 auto' }} />

O `Input` pode ser um campo de texto simples ou multilinha e pode incluir os seguintes estados:

- **Padr√£o**: Campo de texto simples ou multilinha sem formata√ß√£o ou mensagens adicionais;
- **Com erro**: Exibe uma mensagem de erro quando a entrada do usu√°rio n√£o √© v√°lida ou n√£o atende aos crit√©rios esperados;
- **Com ajuda**: Apresenta uma mensagem com instru√ß√µes adicionais sobre como preencher o campo corretamente;
- **Com sucesso**: Indica que a entrada foi aceita ou que a a√ß√£o foi conclu√≠da com sucesso, geralmente acompanhado de uma mensagem de confirma√ß√£o.

<img src="/assets/text-input-variants.png" alt="Exibi√ß√£o do componente de Input em uma lista com as suas varia√ß√µes com conte√∫do a direita, esquerda, estados ativo ou desativado" style={{ margin: '0 auto' }} />

Tamb√©m √© poss√≠vel incluir conte√∫do adicional, como √≠cones ou bot√µes de √≠cones, √† esquerda ou √† direita do campo, utilizando as propriedades `leftSection` e `rightSection`. Isso melhora a usabilidade e a experi√™ncia do usu√°rio.

O `Input` tamb√©m possui indica√ß√£o de estado ativo (foco) ou desativado, al√©m de propriedades para campos obrigat√≥rios, como `required` e `withAsterisk`.

## üí° Recomenda√ß√µes de Uso

- O `Input` deve ser utilizado para capturar informa√ß√µes do usu√°rio em formul√°rios, pesquisas e filtros, garantindo que a entrada seja clara e acess√≠vel;
- Utilize o estado de erro para indicar entradas inv√°lidas, fornecendo *feedback* imediato ao usu√°rio.
- Utilize o estado de ajuda para fornecer orienta√ß√µes adicionais sobre como preencher o campo corretamente;
- O estado de sucesso deve indicar que a entrada foi aceita ou que a a√ß√£o foi conclu√≠da com sucesso, oferecendo uma sensa√ß√£o de progresso;
- Utilize as propriedades `leftSection` e `rightSection` para adicionar √≠cones ou bot√µes de √≠cones que melhorem a experi√™ncia, como √≠cones de pesquisa, limpar ou mostrar/ocultar senha;
- Evite sobrecarregar o campo de entrada com muitos elementos visuais. Mantenha o design limpo e focado na entrada de dados;
- Certifique-se de que o campo seja acess√≠vel: utilize r√≥tulos claros e descritivos, e garanta que os estados de erro, ajuda e sucesso sejam facilmente compreendidos por todos, incluindo pessoas com defici√™ncias visuais ou cognitivas;
- Utilize *placeholders* apenas como exemplos de entrada. N√£o dependa deles para indicar o prop√≥sito do campo, pois desaparecem ao digitar e podem comprometer a acessibilidade;
- Sinalize a obrigatoriedade dos campos conforme o contexto:
  - Se a maioria for opcional, destaque os obrigat√≥rios;
  - Se a maioria for obrigat√≥ria, destaque os opcionais.


### ‚òëÔ∏è‚úñÔ∏è O que fazer vs. O que n√£o fazer

O componente `Input` foi desenvolvido com foco em acessibilidade, usabilidade e experi√™ncia do usu√°rio. Abaixo est√£o algumas diretrizes sobre o que fazer e o que n√£o fazer ao utilizar este componente para manter a acessibilidade e a usabilidade e melhorar a experi√™ncia do usu√°rio:

<Title component="h1" className="!text-h5">Utilize r√≥tulos claros e descritivos para cada campo de entrada, garantindo que todos os usu√°rios compreendam o prop√≥sito do campo.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Chip variant="outlined" color="success"><Icon type="check_circle" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que fazer</Chip>
    <Input label="Nome Completo" placeholder="Digite seu nome completo" readOnly full />
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Chip variant="outlined" color="error"><Icon type="cancel" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que n√£o fazer</Chip>
    <Input label="Insira aqui" readOnly full />
  </Flex>
</Grid>

<Title component="h1" className="!text-h5">Use o *placeholder* para auxiliar o usu√°rio com intru√ß√µes ou exemplos de entrada, mas n√£o dependa exclusivamente dele para descrever o prop√≥sito do campo.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Chip variant="outlined" color="success"><Icon type="check_circle" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que fazer</Chip>
      <Text className="!m-0">O *placeholder* deve ser utilizado como um aux√≠lio, e n√£o como a √∫nica forma de descrever o prop√≥sito do campo.</Text>
    </Flex>
    <Flex rowGap="gap-x-sm" width="w-full">
      <Input label="CPF" placeholder="000.000.000-00" readOnly full />
    </Flex>
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Chip variant="outlined" color="error"><Icon type="cancel" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que n√£o fazer</Chip>
      <Text className="!m-0">N√£o utilize o *placeholder* como a √∫nica forma de descrever o prop√≥sito do campo, pois ele desaparece quando o usu√°rio come√ßa a digitar, tornando-se inacess√≠vel.</Text>
    </Flex>
    <Flex rowGap="gap-x-sm" width="w-full">
      <Input placeholder="CPF" readOnly full />
    </Flex>
  </Flex>
</Grid>

<Title component="h1" className="!text-h5">Sempre que poss√≠vel, realize a valida√ß√£o dos campos antes do envio do formul√°rio, exibindo mensagens de erro claras e espec√≠ficas para que o usu√°rio possa corrigi-los imediatamente.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Chip variant="outlined" color="success"><Icon type="check_circle" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que fazer</Chip>
      <Text className="!m-0">Escreve mensagens de erro que auxiliem a corrigir a informa√ß√£o inserida, evitando mensagens gen√©ricas como "Erro no campo".</Text>
    </Flex>
    <Flex rowGap="gap-x-sm" width="w-full">
      <Input label="Nova senha" readOnly full errorText="A nova senha deve conter pelo menos 5 caracteres" className="sb-unstyled" />
    </Flex>
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Chip variant="outlined" color="error"><Icon type="cancel" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que n√£o fazer</Chip>
      <Text className="!m-0">Evite mensagens de erro gen√©ricas, pois n√£o ajudam o usu√°rio a entender o que precisa ser corrigido.</Text>
    </Flex>
    <Flex rowGap="gap-x-sm" width="w-full">
      <Input label="Nova senha" readOnly full errorText="Senha inv√°lida" className="sb-unstyled" />
    </Flex>
  </Flex>
</Grid>

<Title component="h1" className="!text-h5">D√™ prefer√™ncia a indicar a obrigatoriedade do campo de acordo com o contexto, utilizando o asterisco (*) para campos obrigat√≥rios apenas quando a maioria dos campos forem opcionais.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Chip variant="outlined" color="success"><Icon type="check_circle" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que fazer</Chip>
      <Text className="!m-0">Indique a obrigatoriedade do campo conforme o contexto, evitando a carga visual desnecess√°ria do asterisco em todos os campos.</Text>
    </Flex>
    <Flex colGap="gap-y-sm" direction="flex-col" width="w-full">
      <Input label="Nome" placeholder="Insira seu nome" readOnly full withAsterisk required className="sb-unstyled" />
      <Input label="CPF" placeholder="000.000.000-00" readOnly full />
      <Input label="E-mail" placeholder="exemplo@dominio.com" readOnly full />
    </Flex>
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Chip variant="outlined" color="error"><Icon type="cancel" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que n√£o fazer</Chip>
      <Text className="!m-0">Evite repetir o asterisco em todos os campos, especialmente quando a maioria dos campos forem obrigat√≥rios, para reduzir a carga visual desnecess√°ria e evitar redund√¢ncia.</Text>
    </Flex>
    <Flex colGap="gap-y-sm" direction="flex-col" width="w-full">
      <Input label="Nome" placeholder="Insira seu nome" readOnly full withAsterisk required />
      <Input label="CPF" placeholder="000.000.000-00" readOnly full withAsterisk required />
      <Input label="E-mail" placeholder="exemplo@dominio.com" readOnly full withAsterisk required />
    </Flex>
  </Flex>
</Grid>

## ‚ôø Acessibilidade

O componente `Input` implementa, por padr√£o, diretrizes essenciais de acessibilidade para garantir que todos os usu√°rios possam interagir com ele de forma eficaz:

- O componente √© **totalmente naveg√°vel via teclado**, permitindo que usu√°rios que dependem exclusivamente do teclado possam acess√°-lo e utiliz√°-lo sem obst√°culos, conforme recomendado pelas diretrizes da <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard.html" target="_blank">WCAG 2.1.1 (Keyboard)</Link>;
- A **borda de foco √© vis√≠vel**, com pelo menos **2 p√≠xeis** de espessura e sem sobreposi√ß√£o por outros elementos, conforme exigido pela <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/focus-appearance-enhanced" target="_blank">WCAG 2.4.12 (Focus Appearance)</Link>;
- A identifica√ß√£o de erros utiliza **cor, √≠cone e mensagem textual**, garantindo que a informa√ß√£o n√£o dependa apenas da cor. Essa pr√°tica est√° alinhada com a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/use-of-color" target="_blank">WCAG 1.4.1 (Use of Color)</Link> e <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/consistent-identification.html" target="_blank">WCAG 3.2.4 (Consistent Identification)</Link>;
- Mensagens de sucesso, ajuda ou erro s√£o associadas ao campo atrav√©s do atributo `aria-describedby`, permitindo que leitores de tela anunciem essas mensagens corretamente, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/info-and-relationships.html" target="_blank">WCAG 1.3.1 (Info and Relationships)</Link>;
- Para mensagens din√¢micas (erro ou sucesso), √© utilizado o atributo `aria-live="polite"`, garantindo que leitores de tela anunciem essas mudan√ßas de forma n√£o intrusiva, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/status-messages.html" target="_blank">WCAG 4.1.3 (Status Messages)</Link>;

### üìå Boas pr√°ticas de acessibilidade ao utilizar o componente

Al√©m das diretrizes j√° implementadas, recomenda-se seguir as seguintes boas pr√°ticas ao utilizar o `Input`:

- Sempre forne√ßa um r√≥tulo claro e descritivo por meio da propriedade `label`, para que todos os usu√°rios compreendam o prop√≥sito do campo, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/labels-or-instructions.html" target="_blank">WCAG 3.3.2 (Labels or Instructions)</Link>;
- Utilize a propriedade *placeholder* apenas como **exemplo de entrada**, e n√£o como **substituto do r√≥tulo**, pois ele desaparece ao digitar, tornando-se inacess√≠vel. Isso est√° de acordo com a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/non-text-content.html" target="_blank">WCAG 1.1.1 (Non-text Content)</Link>;
- Se for absolutamente necess√°rio depender do *placeholder* como identifica√ß√£o do campo (o que n√£o √© recomendado), adicione a propriedade `aria-label` com uma descri√ß√£o clara do prop√≥sito do campo, garantindo que leitores de tela possam compreend√™-lo. Essa pr√°tica est√° de acordo com a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/headings-and-labels.html" target="_blank">WCAG 2.4.6 (Headings and Labels)</Link>;
- Sempre que poss√≠vel, realize a **valida√ß√£o dos campos antes do envio do formul√°rio**, exibindo mensagens de erro claras e espec√≠ficas para que o usu√°rio possa corrigi-los imediatamente, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/error-identification.html" target="_blank">WCAG 3.3.1 (Error Identification)</Link>.