import { Meta } from "@storybook/blocks"
import { Button } from "../Button"
import { Flex } from "../Flex"
import { Grid } from "../Grid"
import { Link } from "../Link"
import { Title } from "../Title"

<Meta title="Componentes/Button/Guia de Uso" />

# üß≠  Guia de Uso

## üìò Vis√£o Geral

O componente `Button` √© utilizado para acionar intera√ß√µes ou iniciar navega√ß√£o dentro da interface, seja em p√°ginas ou componentes. Ele foi projetado com foco em usabilidade e acessibilidade, seguindo as diretrizes WCAG 2.1, garantindo que todas as a√ß√µes estejam claramente identificadas, sejam acess√≠veis por teclado, tenham feedback visual apropriado e funcionem com leitores de tela.

Com um conjunto flex√≠vel de varia√ß√µes e estados, o `Button` assegura consist√™ncia visual e sem√¢ntica em toda a aplica√ß√£o, permitindo que usu√°rios compreendam facilmente o prop√≥sito e a import√¢ncia de cada a√ß√£o.

### ‚öôÔ∏è Tipos de bot√£o

<img src="/assets/button-variants.png" alt="Exibi√ß√£o dos tipos de bot√£o em uma lista com as suas varia√ß√µes e estados como hover, focus e disabled e aplica√ß√£o com √≠cone" style={{ margin: '0 auto' }} />

O componente oferece tr√™s variantes principais, cada uma com um n√≠vel de hierarquia visual e de prioridade de a√ß√£o:

- **Filled (Preenchido)**: Destaca a a√ß√£o principal da interface. Devido ao seu alto contraste, deve ser usado com modera√ß√£o. Idealmente, apenas um bot√£o preenchido por tela.
- **Outlined (Delineado)**: Indicado para a√ß√µes secund√°rias. Oferece destaque moderado, suficiente para chamar aten√ß√£o sem competir com o bot√£o principal.
- **Text (Texto)**: Bot√µes discretos, utilizados em a√ß√µes de baixo impacto, como links, etapas auxiliares ou dentro de componentes compactos. Ideal onde o espa√ßo √© limitado ou quando o foco est√° em outras a√ß√µes.

<img src="/assets/button-colors.png" alt="Exibi√ß√£o de uma lista de bot√µes preenchidos e cada bot√£o tem sua cor atribu√≠da: prim√°ria, secund√°ria, erro, successo e cinza." style={{ margin: '48px auto' }} />

Cada tipo de bot√£o possui variantes de cor que tamb√©m indicam a import√¢ncia da a√ß√£o e seu estado, sendo:
- **Primary**: A√ß√£o principal da p√°gina.
- **Secondary**: A√ß√£o complementar ou alternativa.
- **Error**: A√ß√µes destrutivas ou que alertam sobre um risco.
- **Success**: A√ß√£o que indica sucesso ou confirma√ß√£o.
- **Neutral**: A√ß√µes neutras ou de suporte, com menor destaque.

O bot√£o tamb√©m possui suporte para √≠cones ou outros elementos visuais, atrav√©s de suas propriedades `leftSection` e `rightSection`, que permitem adicionar conte√∫do antes ou depois do texto do bot√£o, respectivamente. Essa flexibilidade melhora a percep√ß√£o da a√ß√£o e oferece feedback visual imediato, sem comprometer a acessibilidade textual.

> ‚ö†Ô∏è Observa√ß√£o: Use os tipos de cores de acordo com o contexto e import√¢ncia da a√ß√£o, n√£o use variantes de cor que n√£o comuniquem o contexto da a√ß√£o, como por exemplo, usar a variante de cor "error" (erro) para a√ß√µes que n√£o s√£o destrutivas ou que n√£o alertam sobre um risco. 

> ‚ö†Ô∏è Apesar da flexibilidade, n√£o √© recomendado utilizar as propriedades `leftSection` e `rightSection` ao mesmo tempo, principalmente em casos de √≠cones combinados, pois isso pode causar confus√£o visual e comprometer a clareza da a√ß√£o.

## üí° Recomenda√ß√µes de Uso

- Utilize r√≥tulos claros, objetivos e f√°ceis de entender. Bot√µes devem indicar exatamente o que acontecer√° ao interagir com eles;
- Ao combinar labels com √≠cones, √© importante garantir que o texto seja claro e compreens√≠vel por si s√≥, mesmo sem o √≠cone. O √≠cone deve complementar a a√ß√£o, mas n√£o substitu√≠-la;
- Ao decidir a variante do bot√£o, considere a import√¢ncia da a√ß√£o e o contexto em que o bot√£o ser√° usado;
- Ao decidir a cor do bot√£o, considere o estado da a√ß√£o (ex: sucesso, erro, a√ß√£o prim√°ria ou secund√°ria);
- Os √≠cones podem ser usados para refor√ßar a a√ß√£o do bot√£o, tanto do lado esquedo (`leftSection`) quanto do lado direito (`rightSection`);
- Verifique sempre se o bot√£o manteve o padr√£o adequado para √°rea de toque, garantindo que o usu√°rio possa clicar facilmente, especialmente em dispositivos m√≥veis;
- Em casos de espa√ßos limitados ou componentes compactos, considere o uso do componente de `IconButton` para manter a clareza e a funcionalidade, de prefer√™ncia com um tooltip explicativo e uso de `aria-label` para acessibilidade;
- Use o estado `disabled` para indicar a√ß√µes que n√£o est√£o dispon√≠veis no momento;
- Evite o uso excessivo de bot√µes preenchidos em uma mesma p√°gina para n√£o sobrecarregar visualmente o usu√°rio.
- Mantenha a consist√™ncia no uso de cores e estilos de bot√µes em toda a aplica√ß√£o;
- Evite o uso de bot√µes para a√ß√µes que n√£o s√£o claras ou que podem causar confus√£o ao usu√°rio.

### ‚òëÔ∏è‚úñÔ∏è O que fazer vs. O que n√£o fazer

O componente `Button` foi desenvolvido desde o in√≠cio com foco na acessibilidade, alinhado √†s Diretrizes de Acessibilidade para Conte√∫do Web (WCAG) 2.1. Al√©m disso, foram incorporados padr√µes de usabilidade para garantir uma experi√™ncia intuitiva e eficaz para todos os usu√°rios.

Por isso, ao utilizar esse componente, √© fundamental que o respons√°vel pelo conte√∫do siga boas pr√°ticas e crit√©rios espec√≠ficos para manter sua acessibilidade e usabilidade:

<Title component="h1" className="!text-h5">Comece com uma letra mai√∫scula e use letras mai√∫sculas na frase, mas n√£o adicione pontos finais ou frases em caixa alta.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-success !mb-sm">
      <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úî O que fazer</Title>
    </Flex>
    <Button color="neutral">Adicionar ao carrinho</Button>
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-error !mb-sm">
      <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úò O que n√£o fazer</Title>
    </Flex>
    <Button color="neutral">ADICIONAR AO CARRINHO.</Button>
  </Flex>
</Grid>

<Title component="h1" className="!text-h5">Comece com um verbo claro e direto que indique a a√ß√£o a ser executada. Se necess√°rio, complemente com um substantivo que traga contexto <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/headings-and-labels" target="_blank">(WCAG 2.4.6: Headings and Labels)</Link>.</Title>
<Title component="h1" className="!text-h5">Evite frases longas, t√©cnicas ou vagas. Prefira termos simples e acess√≠veis, garantindo que o texto vis√≠vel seja o mesmo nome lido por leitores de tela <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/label-in-name" target="_blank">(WCAG 2.5.3: Label in Name)</Link>.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-success !mb-sm">
      <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úî O que fazer</Title>
    </Flex>
    <Flex rowGap="gap-x-sm" className="mt-auto">
      <Button color="neutral">Salvar</Button>
      <Button color="neutral">Adicionar item</Button>
      <Button color="neutral">Salvar rascunho</Button>
    </Flex>
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-error !mb-sm">
      <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úò O que n√£o fazer</Title>
    </Flex>
    <Flex gap="gap-sm">
      <Button color="neutral">Ir</Button>
      <Button color="neutral">Clique aqui para iniciar o envio de formul√°rio</Button>
    </Flex>
  </Flex>
</Grid>

<Title component="h1" className="!text-h5">Limite a quantidade de bot√µes por tela. Muitas op√ß√µes aumentam a complexidade visual e dificultam a tomada de decis√£o pelo usu√°rio.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-success !mb-sm">
      <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úî O que fazer</Title>
    </Flex>
    <Flex rowGap="gap-x-sm">
      <Button>Ver detalhes</Button>
    </Flex>
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-error !mb-sm">
      <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úò O que n√£o fazer</Title>
    </Flex>
    <Flex rowGap="gap-x-sm">
      <Button>Ver detalhes</Button>
      <Button variant="outlined" color="secondary">Voltar</Button>
      <Button variant="outlined">Acessar perfil</Button>
      <Button variant="text" color="neutral">Sair</Button>
    </Flex>
  </Flex>
</Grid>

<Title component="h1" className="!text-h5">Adicione √≠cones ou elementos ao lado da label (√† esquerda ou direita) para refor√ßar a a√ß√£o, sem substituir o texto. Nunca posicione o √≠cone acima ou abaixo da label.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-success !mb-sm">
      <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úî O que fazer</Title>
    </Flex>
    <Flex rowGap="gap-x-sm">
      <Button color="neutral">üû¢ Adicionar detalhes</Button>
    </Flex>
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-error !mb-sm">
      <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úò O que n√£o fazer</Title>
    </Flex>
    <Flex rowGap="gap-x-sm">
      <Button color="neutral">üû¢ <br /> Adicionar detalhes</Button>
    </Flex>
  </Flex>
</Grid>

## ‚ôø Acessibilidade

Por padr√£o, o componente `Button` j√° implementa diretrizes essenciais de acessibilidade para garantir que todos os usu√°rios possam interagir com ele de forma eficaz:

- O bot√£o pode ser ativado pelas teclas Espa√ßo e *Enter* no teclado, conforme recomendado pelo padr√£o <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard.html" target="_blank">WCAG 2.1.1 Button (Keyboard Interaction)</Link>;
- A borda de foco vis√≠vel possui pelo menos 2px de espessura e est√° sempre vis√≠vel, sem ficar oculta por outros elementos, conforme <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/focus-appearance-enhanced" target="_blank">WCAG 2.4.13 (Focus Appearance)</Link>;
- O estado de foco √© sempre preservado quando aplic√°vel, inclusive com suporte visual claro, conforme recomendado pela <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/focus-visible" target="_blank">WCAG 2.4.7 (Focus Visible)</Link>.

Para complementar e garantir a acessibilidade, √© importante considerar:

- Quando os bot√µes est√£o desativados na interface do usu√°rio, as diretrizes de contraste de cores n√£o se aplicam aos componentes desativados. As <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html#inactive-controls" target="_blank">diretrizes de contraste m√≠nimo definidas nas WCAG 2.1</Link> declaram explicitamente que os componentes desativados est√£o isentos da diretriz;
- Garanta que elementos interativos mantenham uma √°rea de toque acess√≠vel ‚Äî idealmente com pelo menos 44x44 pixels em dispositivos de toque ‚Äî para facilitar o uso por pessoas com mobilidade reduzida ou precis√£o limitada; conforme recomendado na <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/target-size.html" target="_blank">WCAG 2.5.5 (Target Size)</Link>;
- O componente j√° possui as propridades `aria-disabled` e `data-disabled` para indicar que o bot√£o est√° desativado, mas √© importante se atentar ao uso da propridade `disabled` quando o bot√£o n√£o deve ser clic√°vel e garantir que o estado visual tamb√©m seja claro;
- √â recomendado informar o motivo do bot√£o estar desabilitado para garantir clareza ao usu√°rio, seguindo as diretrizes de <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/info-and-relationships.html" target="_blank">WCAG 1.3.1 (Information and Relationships)</Link> e <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/labels-or-instructions.html" target="_blank">3.3.2 (Labels or Instructions)</Link>, podendo usar texto vis√≠vel ou `aria-describedby`;
- Ao usar a propriedade `component` para renderizar elementos que n√£o s√£o `<button>`, o componente j√° aplica `role="button"` automaticamente, mas √© importante garantir que o elemento seja semanticamente correto para a a√ß√£o que est√° sendo realizada;
- Use `aria-label` para descrever a a√ß√£o do bot√£o, especialmente quando o texto n√£o for suficiente para transmitir a a√ß√£o, conforme recomendado pela <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/labels-or-instructions.html" target="_blank">WCAG 3.3.2 Labels or Instructions</Link>;
- Utilize `onClick` para definir a a√ß√£o ao clicar e `onKeyDown` para capturar eventos de teclado (*Enter* e Espa√ßo), garantindo ativa√ß√£o pelo teclado al√©m das fun√ß√µes padr√£o; conforme <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard.html" target="_blank">WCAG 2.1 (Keyboard)</Link> e <Link className="sb-unstyled text-sm" href="https://www.w3.org/TR/wai-aria-practices-1.1/#button" target="_blank">WAI-ARIA Button Keyboard Interaction</Link>;
- Preserve os recursos visuais de acessibilidade (foco, contraste) ao customizar estilos ou *tokens*, mantendo a consist√™ncia com os testes de acessibilidade j√° realizados; conforme <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/focus-visible.html" target="_blank">WCAG 2.4.7 (Focus Visible)</Link>, <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html" target="_blank">WCAG 1.4.3 (Contrast Minimum)</Link> e <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/focus-appearance-enhanced.html" target="_blank">WCAG 2.4.13 (Focus Appearance)</Link>.