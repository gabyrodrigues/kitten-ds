import { Meta } from "@storybook/blocks"
import { Link } from "../Link"

<Meta title="Componentes/Tooltip/Guia de Uso" />

# üß≠  Guia de Uso

## üìò Vis√£o Geral

O componente `Tooltip` fornece informa√ß√µes ou contexto adicional sobre um elemento da interface, apresentando dicas ou instru√ß√µes sem sobrecarregar a tela.

Ele pode possuir textos simples ou mais detalhados, sendo comumente utilizado para explicar √≠cones, bot√µes ou outros elementos interativos, melhorando a usabilidade e a compreens√£o do usu√°rio sobre as funcionalidades dispon√≠veis.

## üî® Comportamento

O `Tooltip` √© ativado por meio de intera√ß√µes do usu√°rio, como passar o *mouse* sobre um elemento ou focar nele via teclado, e desaparece automaticamente ap√≥s um curto per√≠odo ou quando o usu√°rio interage com a interface.

Foi definido para o `Tooltip` um atraso padr√£o de **300 milissegundos** antes de ser exibido. Esse atraso evita que ele apare√ßa acidentalmente durante movimentos r√°pidos do *mouse* e proporciona uma experi√™ncia mais fluida. Por isso, n√£o √© recomendada a sobrescrita desse comportamento.

Para garantir que o `Tooltip` seja exibido corretamente tamb√©m para usu√°rios de leitores de tela, √© importante inserir um `id` √∫nico no elemento que aciona o `Tooltip`, utilizando a propriedade `id` do componente. Isso permite associar o `Tooltip` ao elemento alvo, garantindo acessibilidade e usabilidade.

Exemplo de uso:

```javascript
import { Tooltip } from "kitten-ds"
function App() {
  return (
    <div>
      <Tooltip
        id="tooltip-unico"
        body="Informa√ß√£o adicional sobre o funcionamento"
      >
        <button>Bot√£o com tooltip</button>
      </Tooltip>
    </div>
  );
}

export default App;
```

√â a partir desse `id` que o `Tooltip` recebe o atributo `aria-describedby`, permitindo que leitores de tela anunciem o conte√∫do descritivo associado ao elemento.

### üìê Posicionamento do Tooltip

<img src="/assets/tooltip-variants.png" alt="Exibi√ß√£o de uma lista de tooltips que mostra a aplica√ß√£o com e sem indicador de flecha do posicionamento e cada uma das variantes de posicionamento" style={{ margin: '48px auto' }} />

Por padr√£o, o `Tooltip` √© exibido abaixo do elemento alvo, mas pode ser reposicionado usando a propriedade `position`, que aceita os seguintes valores:

- **top**: Acima do elemento alvo;
- **bottom**: Abaixo do elemento alvo;
- **left**: √Ä esquerda do elemento alvo;
- **right**: √Ä direita do elemento alvo;
- **bottom-left**: No canto inferior esquerdo do elemento alvo;
- **bottom-right**: No canto inferior direito do elemento alvo;
- **top-left**: No canto superior esquerdo do elemento alvo;
- **top-right**: No canto superior direito do elemento alvo.

Em todas as varia√ß√µes de posicionamento √© poss√≠vel exibir um indicador de flecha apontando para o elemento alvo via propriedade `hasArrow`, ajudando a refor√ßar a rela√ß√£o entre o `Tooltip` e o elemento descrito.

<img src="/assets/tooltip-positions.png" alt="Exibi√ß√£o de √≠cones de informa√ß√£o exemplificando como as tooltips s√£o exibidas ao interagir com o √≠cone e as posi√ß√µes bottom, bottom-left e bottom-right estiverem definidas como posicionamento da tooltip" style={{ margin: '48px auto' }} />

A nomenclatura dos posicionamentos √© baseada na posi√ß√£o do `Tooltip` em rela√ß√£o ao elemento alvo, e n√£o na posi√ß√£o do *mouse*. Isso significa que o `Tooltip` ser√° exibido na posi√ß√£o especificada independentemente de onde o cursor estiver localizado.

## üí° Recomenda√ß√µes de Uso

- Forne√ßa informa√ß√µes contextuais para ajudar o usu√°rio a entender melhor a interface;
- Mantenha o texto curto e direto, evitando sobrecarga de informa√ß√µes;
- Prefira usar o `Tooltip` em elementos interativos, como bot√µes e √≠cones, onde a ajuda adicional pode ser ben√©fica;
- N√£o utilize `Tooltip` em √≠cones ou bot√µes de √≠cone com significados autoexplicativos, como uma a√ß√£o de fechar usando o √≠cone de "X";
- Teste em diferentes dispositivos e tamanhos de tela para garantir que n√£o sobreponha conte√∫do importante;
- Evite usar o `Tooltip` para informa√ß√µes cr√≠ticas que o usu√°rio precisa ver imediatamente, pois ele pode ser facilmente ignorado ou n√£o percebido, j√° que sua exibi√ß√£o depende da intera√ß√£o do usu√°rio;
- N√£o utilize o `Tooltip` para substituir mensagens de erro ou feedbacks importantes, pois ele √© destinado a fornecer informa√ß√µes adicionais e n√£o deve ser usado como um meio principal de comunica√ß√£o com o usu√°rio;
- N√£o inseria a√ß√µes interativas dentro do `Tooltip`, pois ele deve ser usado apenas para exibir informa√ß√µes e n√£o para intera√ß√µes diretas.

## ‚ôø Acessibilidade

Por padr√£o, o componente `Tooltip` j√° implementa diretrizes essenciais de acessibilidade para garantir que todos os usu√°rios possam interagir com ele de forma eficaz:

- O `Tooltip` √© associado ao elemento alvo atrav√©s do atributo `aria-describedby`, preenchido automaticamente com o `id` atribu√≠do ao `Tooltip`.  Isso permite que leitores de tela anunciem o conte√∫do descritivo associado ao elemento, em conformidade com a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/info-and-relationships.html" target="_blank">WCAG 1.3.1 (Info and Relationships)</Link> e a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/name-role-value.html" target="_blank">WCAG 4.1.2 (Name, Role, Value)</Link>;
- O `Tooltip` pode ser exibido n√£o apenas no *hover* do mouse, mas tamb√©m ao receber foco via teclado no elemento alvo, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard.html" target="_blank">WCAG 2.1.1 (Keyboard)</Link>;
- O `Tooltip` permanece vis√≠vel enquanto o elemento alvo estiver em foco ou sob o cursor, sem tempo limite para sua exibi√ß√£o, atendendo √† <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/content-on-hover-or-focus.html" target="_blank">WCAG 1.4.13 (Content on Hover or Focus)</Link>;
- O `Tooltip` n√£o deve receber foco diretamente ‚Äî apenas o elemento alvo √© foc√°vel ‚Äî evitando interrup√ß√µes na ordem l√≥gica de navega√ß√£o, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/focus-order.html" target="_blank">WCAG 2.4.3 (Focus Order)</Link>;
- Ap√≥s a perda do foco ou do *hover*, o `Tooltip` n√£o desaparece imediatamente, aplicando um atraso de aproximadamente 500 milissegundos antes de sumir, o que d√° tempo para leitura da informa√ß√£o antes que seja removida. Esse comportamento tamb√©m segue a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/content-on-hover-or-focus.html" target="_blank">WCAG 1.4.13 (Content on Hover or Focus)</Link>.

### üìå Boas pr√°ticas de acessibilidade ao utilizar o componente

Para complementar e garantir a acessibilidade, √© importante considerar:

- N√£o utilize a√ß√µes interativas como conte√∫do do `Tooltip`, como bot√µes ou links, pois isso pode confundir os usu√°rios sobre seu prop√≥sito e prejudicar a ordem de foco, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/focus-order.html" target="_blank">WCAG 2.4.3 (Focus Order)</Link> e a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/content-on-hover-or-focus.html" target="_blank">WCAG 1.4.13 (Content on Hover or Focus)</Link>;
- Se o elemento alvo for est√°tico (por exemplo, um √≠cone), envolva-o em um `IconButton` ou `Button` para permitir ativa√ß√£o por teclado sem precisar definir `tabindex="0"` manualmente. Isso est√° alinhado com a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard.html" target="_blank">WCAG 2.1.1 (Keyboard)</Link>;
- O `Tooltip` foi desenvolvido para n√£o cobrir o elemento alvo, garantindo que a informa√ß√£o adicional n√£o obstrua o conte√∫do principal. √â importante manter esse comportamento ao utiliz√°-lo para estar alinhado com a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/content-on-hover-or-focus.html" target="_blank">WCAG 1.4.13 (Content on Hover or Focus)</Link>.