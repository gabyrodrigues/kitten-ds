import { Meta } from "@storybook/blocks"
import { Flex } from "../Flex"
import { Grid } from "../Grid"
import { Input } from "../Input"
import { Link } from "../Link"
import { Select } from "../Select"
import { Text } from "../Text"
import { Title } from "../Title"

<Meta title="Componentes/Select/Guia de Uso" />

# üß≠  Guia de Uso

## üìò Vis√£o Geral

O componente `Select` permite que os usu√°rios escolham uma ou mais op√ß√µes a partir de uma lista. √â especialmente √∫til quando h√° muitas op√ß√µes dispon√≠veis, pois economiza espa√ßo na interface e melhora a usabilidade.

Ele pode ser configurado para sele√ß√£o √∫nica ou m√∫ltipla e tamb√©m oferece suporte a pesquisa, facilitando a localiza√ß√£o de op√ß√µes espec√≠ficas em listas extensas. Pode ser utilizado em formul√°rios, filtros, configura√ß√µes e em qualquer contexto que exija a sele√ß√£o de itens.

### ‚öôÔ∏è Tipos de Select

<img src="/assets/select-variants.png" alt="Exibi√ß√£o do componente de Select em uma lista com as suas varia√ß√µes e estados de sele√ß√£o simples ou m√∫ltipla, com mensagem de erro, ajuda e sucesso" style={{ margin: '0 auto' }} />

O `Select` possui varia√ß√µes funcionais e visuais, que se adaptam conforme o contexto de uso:

- **Select Simples**: Permite a sele√ß√£o de uma √∫nica op√ß√£o a partir de uma lista;
- **Select M√∫ltiplo**: Permite selecionar v√°rias op√ß√µes simultaneamente. As sele√ß√µes s√£o exibidas como `Chips` dentro do campo, podendo ser removidas individualmente;
- **Select com Pesquisa**: Torna o campo pesquis√°vel, ideal para listas longas com muitas op√ß√µes.

O `Select` pode ser um campo de sele√ß√£o simples ou m√∫ltipla e pode incluir os seguintes estados:

- **Padr√£o**: Exibe a lista de op√ß√µes ao interagir com o campo;
- **Com erro**: Apresenta uma mensagem de erro quando o valor selecionado √© inv√°lido ou n√£o atende aos crit√©rios esperados;
- **Com ajuda**: Exibe instru√ß√µes adicionais para auxiliar no preenchimento do campo;
- **Com sucesso**: Indica que a entrada foi validada com sucesso, geralmente com uma mensagem de confirma√ß√£o.

<img src="/assets/select-state-variants.png" alt="Exibi√ß√£o do componente de Select em uma lista com as suas varia√ß√µes estados ativo ou desativado e com lista de op√ß√µes aberta." style={{ margin: '0 auto' }} />

O `Select` tamb√©m pode conter elementos visuais adicionais, como √≠cones ou bot√µes, posicionados √† esquerda (`leftSection`) ou √† direita (`rightSection`) do campo. Esses elementos devem ser usados com modera√ß√£o para evitar sobrecarga visual, j√° que o componente j√° inclui √≠cones nativos, como a seta para abrir o menu e o bot√£o para limpar a sele√ß√£o.

Outros recursos importantes incluem:

- Indica√ß√£o de foco (estado ativo) e estado desabilitado;
- A√ß√£o para limpar a sele√ß√£o;
- Suporte a campos obrigat√≥rios com as propriedades `required` e `withAsterisk`.

## üí° Recomenda√ß√µes de Uso

- Utilize o `Select` para listas longas de op√ß√µes, especialmente quando a funcionalidade de pesquisa for √∫til;
- Utilize o `Select` m√∫ltiplo quando o usu√°rio precisar escolher mais de uma op√ß√£o;
- Sempre forne√ßa *feedback* visual claro para os diferentes estados do campo, como erro, sucesso ou ajuda contextual;
- Utilize a vers√£o com pesquisa para facilitar a navega√ß√£o em listas extensas;
- Evite sobrecarregar o campo com muitos elementos adicionais, mesmo com suporte a `leftSection` e `rightSection`. Mantenha a interface limpa e intuitiva;
- Evite o uso do `Select` quando a digita√ß√£o for mais r√°pida e eficiente. Exemplos comuns incluem listas de estados, pa√≠ses, anos de nascimento ou idade ‚Äî nesses casos, campos de texto simples ou com autocompletar costumam oferecer melhor experi√™ncia. <Link className="sb-unstyled text-sm" href="https://www.nngroup.com/articles/drop-down-menus/" target="_blank">(NNGroup)</Link>;
- Para listas curtas (2 a 4 itens), prefira bot√µes de op√ß√£o (`Radio` ou `Checkbox`) ou menus est√°ticos, que reduzem o n√∫mero de intera√ß√µes necess√°rias;
- Opte por nomes de op√ß√µes curtos e descritivos, evitando r√≥tulos longos que dificultem a leitura e a sele√ß√£o;
- Assegure a acessibilidade do componente:
  - Utilize r√≥tulos claros e vis√≠veis (label);
  - Garanta que mensagens de erro, ajuda ou sucesso estejam associadas ao campo via aria-describedby;
  - Certifique-se de que o componente seja totalmente naveg√°vel por teclado (abrir, navegar, selecionar, remover);
  - Mantenha o foco vis√≠vel durante a navega√ß√£o;
Use placeholders apenas como exemplos tempor√°rios de preenchimento. N√£o dependa deles como substitutos de r√≥tulo, pois desaparecem ao digitar e podem comprometer a acessibilidade;
- Sinalize claramente os campos obrigat√≥rios, considerando o contexto:
  - Se a maioria dos campos for opcional, destaque os obrigat√≥rios;
  - Se a maioria for obrigat√≥ria, destaque apenas os opcionais.

### ‚òëÔ∏è‚úñÔ∏è O que fazer vs. O que n√£o fazer

O componente `Select` foi desenvolvido com foco em acessibilidade, usabilidade e experi√™ncia do usu√°rio. Abaixo est√£o algumas diretrizes sobre o que fazer e o que n√£o fazer ao utilizar este componente para manter a acessibilidade e a usabilidade e melhorar a experi√™ncia do usu√°rio:

<Title component="h1" className="!text-h5">Utilize r√≥tulos claros e descritivos para cada Select, garantindo que todos os usu√°rios compreendam o prop√≥sito do campo.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-success !mb-sm">
      <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úî O que fazer</Title>
    </Flex>
    <Select label="Escolha sua comida favorita" readOnly full value="" options={[]} className="sb-unstyled" />
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-error !mb-sm">
      <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úò O que n√£o fazer</Title>
    </Flex>
    <Select label="Selecione" readOnly full value="" options={[]} className="sb-unstyled" />
  </Flex>
</Grid>

<Title component="h1" className="!text-h5">Use o *placeholder* para auxiliar o usu√°rio com intru√ß√µes ou exemplos de entrada, mas n√£o dependa exclusivamente dele para descrever o prop√≥sito do campo.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-success">
        <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úî O que fazer</Title>
      </Flex>
      <Text className="!m-0">O *placeholder* deve ser utilizado como um aux√≠lio, e n√£o como a √∫nica forma de descrever o prop√≥sito do campo.</Text>
    </Flex>
    <Flex rowGap="gap-x-sm" width="w-full">
       <Select label="Escolha sua comida favorita" readOnly full value="" options={[]} className="sb-unstyled" />
    </Flex>
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-error">
        <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úò O que n√£o fazer</Title>
      </Flex>
      <Text className="!m-0">N√£o utilize o *placeholder* como a √∫nica forma de descrever o prop√≥sito do campo, pois ele desaparece quando o usu√°rio come√ßa a digitar, tornando-se inacess√≠vel.</Text>
    </Flex>
    <Flex rowGap="gap-x-sm" width="w-full">
      <Select placeholder="Escolha sua comida favorita" readOnly full value="" options={[]} className="sb-unstyled" />
    </Flex>
  </Flex>
</Grid>

<Title component="h1" className="!text-h5">Evite o uso do `Select` quando a digita√ß√£o for mais r√°pida e eficiente.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-success">
        <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úî O que fazer</Title>
      </Flex>
      <Text className="!m-0">Quando a lista de op√ß√µes for extensa e a digita√ß√£o for mais r√°pida, d√™ prefer√™ncia ao uso de campos de texto simples, como o `Input`, para permitir que o usu√°rio digite diretamente a informa√ß√£o.</Text>
    </Flex>
    <Flex rowGap="gap-x-sm" width="w-full" className="mt-auto sb-unstyled">
      <Input label="Sua idade" placeholder="Insira sua idade" readOnly full className="sb-unstyled" />
    </Flex>
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Flex radius="rounded-full" paddingX="px-nano" paddingY="py-quark" className="bg-error">
        <Title component="h1" color="!text-typography-inverted" className="!text-h6 !mb-0 !whitespace-nowrap">‚úò O que n√£o fazer</Title>
      </Flex>
      <Text className="!m-0">N√£o utilize o `Select` para listas de op√ß√µes curtas ou quando a digita√ß√£o for mais r√°pida, pois isso pode tornar a intera√ß√£o mais lenta e menos eficiente.</Text>
    </Flex>
    <Flex rowGap="gap-x-sm" width="w-full">
      <Select label="Selecione a sua idade" readOnly full value="" options={[]} className="sb-unstyled" />
    </Flex>
  </Flex>
</Grid>

## ‚ôø Acessibilidade

O componente `Select` implementa, por padr√£o, diretrizes essenciais de acessibilidade para garantir que todos os usu√°rios possam interagir com ele de forma eficaz:

- O componente √© **totalmente naveg√°vel via teclado**, permitindo que usu√°rios que dependem exclusivamente do teclado possam acess√°-lo e utiliz√°-lo sem obst√°culos, conforme recomendado pelas diretrizes da <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard.html" target="_blank">WCAG 2.1.1 (Keyboard)</Link>;
- No `Select` m√∫ltiplo, as op√ß√µes selecionadas s√£o exibidas como `Chips`, que podem ser removidas tanto com o *mouse* quanto pelo teclado ‚Äî tamb√©m atendendo √† <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard.html" target="_blank">WCAG 2.1.1 (Keyboard)</Link>;
- A **borda de foco √© vis√≠vel e percept√≠vel**, com pelo menos 2px de espessura e **contraste adequado**, sem ser sobreposta por outros elementos. Essa pr√°tica segue a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/focus-appearance.html" target="_blank">WCAG 2.4.11 (Focus Appearance - Minimum)</Link> e <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/focus-appearance-enhanced" target="_blank">WCAG 2.4.12 (Focus Appearance - Enhanced)</Link>;
- A identifica√ß√£o de erros utiliza **cor, √≠cone e mensagem textual**, garantindo que a informa√ß√£o n√£o dependa apenas da cor. Essa pr√°tica est√° alinhada com a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/use-of-color" target="_blank">WCAG 1.4.1 (Use of Color)</Link> e <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/consistent-identification.html" target="_blank">WCAG 3.2.4  (Consistent Identification)</Link>;
- Mensagens de sucesso, ajuda ou erro s√£o associadas ao campo atrav√©s do atributo `aria-describedby`, permitindo que leitores de tela anunciem essas mensagens corretamente, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/info-and-relationships.html" target="_blank">WCAG 1.3.1 (Info and Relationships)</Link>;
- A **ordem de foco segue uma sequ√™ncia l√≥gica**: por exemplo, ao abrir o menu de op√ß√µes, o foco vai diretamente para o primeiro item dispon√≠vel (quando nenhuma op√ß√£o est√° selecionada), conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/focus-order" target="_blank">WCAG 2.4.3 (Focus Order)</Link>;
- Para mensagens din√¢micas (erro ou sucesso), √© utilizado o atributo `aria-live="polite"`, garantindo que leitores de tela anunciem essas mudan√ßas de forma n√£o intrusiva, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/status-messages.html" target="_blank">WCAG 4.1.3 (Status Messages)</Link>;

### üìå Boas pr√°ticas de acessibilidade ao utilizar o componente

Al√©m das funcionalidades nativas, recomenda-se seguir as seguintes boas pr√°ticas ao integrar o `Select`:

- Sempre forne√ßa um r√≥tulo claro e descritivo por meio da propriedade `label`, para que todos os usu√°rios compreendam o prop√≥sito do campo, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/labels-or-instructions.html" target="_blank">WCAG 3.3.2 (Labels or Instructions)</Link>;
- Utilize a propriedade *placeholder* apenas como **exemplo de entrada**, e n√£o como **substituto do r√≥tulo**, pois ele desaparece ao digitar, tornando-se inacess√≠vel. Isso est√° de acordo com a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/non-text-content.html" target="_blank">WCAG 1.1.1 (Non-text Content)</Link>;
- Se for absolutamente necess√°rio depender do *placeholder* como identifica√ß√£o do campo (o que n√£o √© recomendado), adicione a propriedade `aria-label` com uma descri√ß√£o clara do prop√≥sito do campo, garantindo que leitores de tela possam compreend√™-lo. Essa pr√°tica est√° de acordo com a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/headings-and-labels.html" target="_blank">WCAG 2.4.6 (Headings and Labels)</Link>;
- Sempre que poss√≠vel, realize a **valida√ß√£o dos campos antes do envio do formul√°rio**, exibindo mensagens de erro claras e espec√≠ficas para que o usu√°rio possa corrigi-los imediatamente, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/error-identification.html" target="_blank">WCAG 3.3.1 (Error Identification)</Link>.
