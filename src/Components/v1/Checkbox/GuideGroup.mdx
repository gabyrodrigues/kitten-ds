import { Meta } from "@storybook/blocks"
import { Chip } from "../Chip"
import { Flex } from "../Flex"
import { Grid } from "../Grid"
import { Icon } from "../Icon"
import { Link } from "../Link"
import { Checkbox, CheckboxGroup } from "../Checkbox"
import { Title } from "../Title"

<Meta title="Componentes/CheckboxGroup/Guia de Uso" />

# üß≠  Guia de Uso

## üìò Vis√£o Geral

O componente `CheckboxGroup` √© utilizado para agrupar m√∫ltiplos componentes `Checkbox` (caixas de sele√ß√£o) em um √∫nico contexto, permitindo que o usu√°rio selecione v√°rias op√ß√µes simultaneamente. Ele √© ideal para formul√°rios, question√°rios e configura√ß√µes de prefer√™ncias, onde o usu√°rio pode escolher diversas alternativas dentro de um mesmo conjunto.

### ‚öôÔ∏è Tipos de CheckboxGroup

<img src="/assets/checkbox-group-variants.png" alt="Exibi√ß√£o do componente de CheckboxGroup em uma lista com suas variantes de orienta√ß√£o horizontal e vertical" style={{ margin: '0 auto' }} />

O componente `CheckboxGroup` oferece duas orienta√ß√µes principais:

- **Horizontal**: As op√ß√µes s√£o dispostas em uma linha, uma ao lado da outra. √ötil para op√ß√µes mais curtas ou quando o espa√ßo horizontal √© suficiente, proporcionando uma visualiza√ß√£o compacta e r√°pida das op√ß√µes dispon√≠veis;
- **Vertical**: As op√ß√µes s√£o dispostas em uma coluna, uma abaixo da outra. Orienta√ß√£o padr√£o do `CheckboxGroup`, facilitando a leitura e a sele√ß√£o de op√ß√µes em listas mais longas.

O `CheckboxGroup` tamb√©m oferece suporte √† obrigatoriedade. Atrav√©s da combina√ß√£o das propriedades `withAsterisk` e `required`, √© poss√≠vel indicar visualmente (com um asterisco (*)) que pelo menos uma op√ß√£o precisa ser selecionada. Isso √© √∫til em formul√°rios onde a sele√ß√£o de pelo menos uma op√ß√£o √© necess√°ria para o envio.

Como o `CheckboxGroup` √© um agrupamento para m√∫ltiplos componentes `Checkbox`, ele n√£o possui variantes de cor ou estado pr√≥prios, mas sim herda as caracter√≠sticas dos `Checkbox` que cont√©m. Consulte as variantes, estados e outras orienta√ß√µes do `Checkbox` no guia de uso do componente [**Checkbox**](/docs/componentes-checkbox-guia-de-uso--propriedades).


## üñ•Ô∏è Exemplo de Uso

> O componente `CheckboxGroup` est√° relacionado ao componente [**Checkbox**](/docs/componentes-checkbox-guia-de-uso--propriedades), que representa cada op√ß√£o individual dentro do grupo. O uso do `CheckboxGroup` exige que os elementos `Checkbox` estejam encapsulados em seu interior para que funcionem corretamente.

No exemplo abaixo, √© poss√≠vel ver como utilizar o `CheckboxGroup` com m√∫ltiplos `Checkbox`, organizando visualmente as op√ß√µes e permitindo m√∫ltiplas sele√ß√µes. Al√©m disso, √© poss√≠vel observar como o `CheckboxGroup` pode repassar propriedades como `color` e `disabled` para os seus `Checkbox` filhos:

```javascript
import { Checkbox, CheckboxGroup } from "kitten-ds"
function App() {
  return (
    <div>
      <CheckboxGroup
        label="Selecione suas comidas favoritas"
        color="primary"
        disabled
      >
        <Checkbox
          label="Bacon"
          value="bacon"
        />
        <Checkbox
          label="Cupcake"
          value="cupcake"
        />
        <Checkbox
          label="Pizza"
          value="pizza"
        />
        <Checkbox
          label="Sushi"
          value="sushi"
        />
      </CheckboxGroup>
    </div>
  );
}

export default App;
```

> üé® A propriedade `color` definida no `CheckboxGroup` ser√° aplicada automaticamente a todos os `Checkbox` dentro do grupo, garantindo consist√™ncia visual. O mesmo vale para `disabled`, que desabilita todos os itens do grupo quando ativada.

> ‚ÑπÔ∏è Para mais detalhes sobre todas as propriedades dispon√≠veis no `CheckboxGroup` e como elas se relacionam com os componentes `Checkbox`, consulte a [documenta√ß√£o de propriedades do CheckboxGroup](/docs/componentes-checkboxgroup--propriedades).

## üí° Recomenda√ß√µes de Uso

- Prefira o uso de `CheckboxGroup` quando houver um n√∫mero limitado de op√ß√µes (geralmente at√© 10) e for necess√°rio permitir m√∫ltiplas sele√ß√µes;
- Utilize o `CheckboxGroup` em situa√ß√µes onde as op√ß√µes n√£o s√£o mutuamente exclusivas, ou seja, a sele√ß√£o de uma op√ß√£o n√£o impede a sele√ß√£o de outra;
- Organize as op√ß√µes de `Checkbox` de forma l√≥gica, como por exemplo em ordem alfab√©tica, por prioridade, frequ√™ncia de uso ou relev√¢ncia para o usu√°rio;
- Mantenha a consist√™ncia visual com o restante da interface, utilizando variantes de cor apropriadas para indicar o prop√≥sito ou prioridade da escolha;
- Forne√ßa *feedback* visual claro para os diferentes estados do `Checkbox`, como erro, sucesso ou ajuda;
- Utilize r√≥tulos claros em cada op√ß√£o de `Checkbox`, al√©m de tamb√©m utilizar um r√≥tulo descritivo para o `CheckboxGroup`, que pode indicar a categoria do agrupamento ou descrever o prop√≥sito do grupo de op√ß√µes;
- Evite deixar op√ß√µes marcadas por padr√£o, pois podem passar despercebidas e resultar em respostas n√£o intencionais;
- Alinhe a lista verticalmente sempre que poss√≠vel e use a orienta√ß√£o horizontal apenas quando as op√ß√µes forem curtas e o espa√ßo permitir, para evitar que o usu√°rio precise rolar horizontalmente.

### ‚òëÔ∏è‚úñÔ∏è O que fazer vs. O que n√£o fazer

O componente `CheckboxGroup` foi desenvolvido com foco em acessibilidade, usabilidade e experi√™ncia do usu√°rio. Abaixo est√£o algumas diretrizes sobre o que fazer e o que n√£o fazer ao utilizar este componente para manter a acessibilidade e a usabilidade e melhorar a experi√™ncia do usu√°rio:

<Title component="h4" className="!text-h6">Utilize r√≥tulos claros e descritivos para cada CheckboxGroup, garantindo que todos os usu√°rios compreendam o prop√≥sito das op√ß√µes a serem selecionadas. Evite a cria√ß√£o de grupos sem r√≥tulo.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Chip variant="outlined" color="success"><Icon type="check_circle" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que fazer</Chip>
      <CheckboxGroup
        readOnly
        label="Selecione suas comidas favoritas"
        color="primary"
        className="sb-unstyled"
      >
        <Checkbox
          label="Bacon"
          value="bacon"
          checked
        />
        <Checkbox
          label="Cupcake"
          value="cupcake"
          checked
        />
        <Checkbox
          label="Pizza"
          value="pizza"
        />
        <Checkbox
          label="Sushi"
          value="sushi"
        />
      </CheckboxGroup>
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Chip variant="outlined" color="error"><Icon type="cancel" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que n√£o fazer</Chip>
    <Flex className="mt-auto sb-unstyled">
      <CheckboxGroup
        readOnly
        color="primary"
      >
        <Checkbox
          label="Bacon"
          value="bacon"
          checked
        />
        <Checkbox
          label="Cupcake"
          value="cupcake"
          checked
        />
        <Checkbox
          label="Pizza"
          value="pizza"
        />
        <Checkbox
          label="Sushi"
          value="sushi"
        />
      </CheckboxGroup>
    </Flex>
  </Flex>
</Grid>

## ‚ôø Acessibilidade

O componente `CheckboxGroup`, por agrupar componentes `Checkbox`, segue as mesmas diretrizes e recomenda√ß√µes aplicadas ao `Checkbox`. Al√©m disso, o `CheckboxGroup` tamb√©m possui caracter√≠sticas adicionais importantes:

- Mensagens de sucesso, ajuda ou erro s√£o associadas ao grupo por meio do atributo `aria-describedby`, permitindo que leitores de tela as anunciem corretamente, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/info-and-relationships.html" target="_blank">WCAG 1.3.1 (Info and Relationships)</Link>;
- Para mensagens din√¢micas (erro ou sucesso) do grupo, √© utilizado o atributo `aria-live="polite"`, garantindo que leitores de tela anunciem essas mudan√ßas de forma n√£o intrusiva, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/status-messages.html" target="_blank">WCAG 4.1.3 (Status Messages)</Link>.

### ‚å®Ô∏è Navega√ß√£o por teclado

O `CheckboxGroup` √© totalmente **acess√≠vel via teclado**, conforme recomendado pela <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard.html" target="_blank">WCAG 2.1.1 (Keyboard)</Link>. A navega√ß√£o do componente funciona da seguinte forma:

- **Tab**: Move o foco para o pr√≥ximo `Checkbox` do grupo;
- **Shift + Tab**: Move o foco para o `Checkbox` anterior do grupo;
- **Espa√ßo**: Alterna o estado (marcado ou desmarcado) do `Checkbox` com foco.

### üìå Boas pr√°ticas de acessibilidade ao utilizar o componente

Al√©m das diretrizes j√° implementadas no `CheckboxGroup` e no `Checkbox`, considere as seguintes pr√°ticas ao utilizar o `CheckboxGroup`:

- Sempre forne√ßa um **r√≥tulo claro e descritivo** para o grupo por meio da propriedade `label`, indicando a categoria ou prop√≥sito do grupo de op√ß√µes, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/labels-or-instructions.html" target="_blank">WCAG 3.3.2 (Labels or Instructions)</Link>;
- Se for **necess√°rio** que o `CheckboxGroup` **n√£o possua um r√≥tulo vis√≠vel**, o componente **aplica automaticamente um r√≥tulo acess√≠vel** padr√£o atrav√©s da propriedade `defaultA11yLabel`, que pode ser **customizada** conforme a necessidade para garantir que leitores de tela compreendam o prop√≥sito do grupo. Essa pr√°tica est√° alinhada com a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/headings-and-labels.html" target="_blank">WCAG 2.4.6 (Headings and Labels)</Link>;
- Sempre que poss√≠vel, realize a **valida√ß√£o da op√ß√£o selecionada nos grupos antes do envio do formul√°rio**, exibindo mensagens de erro claras e espec√≠ficas, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/error-identification.html" target="_blank">WCAG 3.3.1 (Error Identification)</Link>.