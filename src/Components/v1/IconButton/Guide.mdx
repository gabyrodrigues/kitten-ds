import { Meta } from "@storybook/blocks"
import { Chip } from "../Chip"
import { Flex } from "../Flex"
import { Grid } from "../Grid"
import { Icon } from "../Icon"
import { IconButton } from "../IconButton"
import { Link } from "../Link"
import { Title } from "../Title"
import { Text } from "../Text"

<Meta title="Componentes/IconButton/Guia de Uso" />

# üß≠  Guia de Uso

## üìò Vis√£o Geral

O `IconButton` √© um bot√£o compacto com foco em a√ß√µes representadas exclusivamente por √≠cones. Ele √© ideal para cen√°rios onde o espa√ßo √© limitado e a comunica√ß√£o visual √© suficiente para indicar a a√ß√£o.

O `IconButton` mant√©m a mesma estrutura e propriedades do `Button`, mas com foco em a√ß√µes que podem ser representadas visualmente por √≠cones, como "adicionar", "editar" ou "excluir". Ele √© especialmente √∫til em interfaces compactas, como barras de ferramentas, menus ou listas, onde o espa√ßo √© limitado e a clareza visual √© essencial.  

### ‚öôÔ∏è Tipos de bot√£o de √≠cone

<img src="/assets/icon-button-variants.png" alt="Exibi√ß√£o dos tipos de bot√£o de √≠cone em uma lista com as suas varia√ß√µes e estados como hover, focus e disabled" style={{ margin: '0 auto' }} />

O componente `IconButton` oferece tr√™s variantes principais, cada uma com um prop√≥sito espec√≠fico:

- **Filled (Preenchido)**: Os bot√µes de √≠cone preenchidos s√£o usados para a√ß√µes principais da interface por serem mais destacados e vis√≠veis, sendo recomendados para a√ß√µes mais priorit√°rias;
- **Outlined (Delineado)**: Os bot√µes de √≠cones delineados s√£o recomendados para a√ß√µes menos priorit√°rias ou alternativas √†s a√ß√µes principais. Eles possuem menos destaque visual que os preenchidos, mas ainda s√£o vis√≠veis e funcionais;
- **Default (Padr√£o)**: Os bot√µes de √≠cone padr√£o s√£o recomendados para a√ß√µes secund√°rias ou complementares, onde o foco deve ser menor que as outras a√ß√µes. Eles s√£o mais sutis e menos destacados que os preenchidos e delineados.

<img src="/assets/icon-button-colors.png" alt="Exibi√ß√£o de uma lista de bot√µes preenchidos e cada bot√£o tem sua cor atribu√≠da: prim√°ria, secund√°ria e neutra." style={{ margin: '8px auto' }} />

Cada bot√£o de √≠cone pode ser personalizado com diferentes cores, permitindo que o usu√°rio identifique rapidamente a import√¢ncia da a√ß√£o. As cores dispon√≠veis s√£o:

- **Primary**: A√ß√£o principal da p√°gina.
- **Secondary**: A√ß√£o complementar ou alternativa.
- **Neutral**: A√ß√µes neutras ou de suporte, com menor destaque.

<img src="/assets/icon-button-sizes.png" alt="Exibi√ß√£o de uma lista de bot√µes delineados, cada um demonstrando um tamanho diferente: small, medium e large." style={{ margin: '8px auto' }} />

Escolha o tamanho do `IconButton` a partir da propridade `size` conforme o contexto de uso:  
- **Small**: (24x24px) √© indicado para √°reas densas como listas ou barras de ferramentas;  
- **Medium**: (32x32px) para interfaces padr√£o;  
- **Large**: (44x44px) √© ideal para contextos em que a acessibilidade e a √°rea de toque s√£o prioridade, como em dispositivos m√≥veis.

## üí° Recomenda√ß√µes de Uso

- Use o bot√£o de √≠cone apenas quando o espa√ßo for limitado e a a√ß√£o puder ser claramente representada por um √≠cone. Caso contr√°rio, prefira o componente Button com texto para garantir clareza e acessibilidade;
- Mesmo quando o √≠cone for autoexplicativo, recomenda-se o uso de `ariaLabel` ou `Tooltip` para garantir acessibilidade, especialmente para usu√°rios de leitores de tela;
- Escolha a variante e cor do IconButton com base na relev√¢ncia da a√ß√£o e no contexto de uso. Variantes mais destacadas e cores mais vibrantes devem ser reservadas para a√ß√µes priorit√°rias;
- Use o estado `disabled` para indicar a√ß√µes que n√£o est√£o dispon√≠veis no momento;
- Evite o uso excessivo de bot√µes de √≠cone em uma √∫nica tela, pois isso pode causar confus√£o e dificultar a navega√ß√£o do usu√°rio. Mantenha um equil√≠brio entre a quantidade de bot√µes e a clareza das a√ß√µes.

### ‚òëÔ∏è‚úñÔ∏è O que fazer vs. O que n√£o fazer

O componente `IconButton` tem como objetivo fornecer uma interface intuitiva e acess√≠vel para a√ß√µes que podem ser representadas por √≠cones. Desde o in√≠cio, o componente foi projetado com foco na acessibilidade e usabilidade, seguindo as Diretrizes de Acessibilidade para Conte√∫do Web (WCAG) 2.1.

Diferente do `Button`, o `IconButton` **n√£o possui texto vis√≠vel**, por isso requer aten√ß√£o especial √†s diretrizes de acessibilidade.

<Title component="h1" className="!text-h5">Evite a sobrecarga visual causada por muitos `IconButtons` destacados.  Isso pode comprometer a clareza da interface, gerar prioridades visuais sobrepostas e dificultar a navega√ß√£o do usu√°rio</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Chip variant="outlined" color="success"><Icon type="check_circle" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que fazer</Chip>
      <Text className="!m-0">Destaque apenas a a√ß√£o principal e mantenha uma hierarquia visual clara.</Text>
    </Flex>
    <Flex rowGap="gap-x-sm">
      <IconButton icon="person" iconClassName="!font-[Material_Symbols_Outlined]
      )" variant="filled" ariaLabel="Perfil do usu√°rio" />
      <IconButton icon="settings" iconClassName="!font-[Material_Symbols_Outlined]
      )" variant="default" ariaLabel="Configura√ß√µes da conta" />
      <IconButton icon="more_vert" iconClassName="!font-[Material_Symbols_Outlined]
      )" variant="default" ariaLabel="Mais op√ß√µes" />
    </Flex>
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Chip variant="outlined" color="error"><Icon type="cancel" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que n√£o fazer</Chip>
      <Text className="!m-0">Evite agrupar √≠cones com a mesma apar√™ncia (variante e cor), pois isso pode confundir o usu√°rio sobre a prioridade de cada a√ß√£o.</Text>
    </Flex>
    <Flex rowGap="gap-x-sm">
      <IconButton icon="person" iconClassName="!font-[Material_Symbols_Outlined]
      )" variant="filled" color="primary" ariaLabel="Perfil do usu√°rio" />
      <IconButton icon="settings" iconClassName="!font-[Material_Symbols_Outlined]
      )" variant="filled" color="secondary" ariaLabel="Configura√ß√µes da conta" />
      <IconButton icon="more_vert" iconClassName="!font-[Material_Symbols_Outlined]
      )" variant="filled" color="primary" ariaLabel="Mais op√ß√µes" />
    </Flex>
  </Flex>
</Grid>

<Title component="h1" className="!text-h5">Use √≠cones que representem claramente a a√ß√£o do bot√£o, sempre forne√ßa um `ariaLabel` descritivo e evite √≠cones visuais semelhantes para a√ß√µes diferentes.</Title>

<Grid cols="grid-cols-1 md:grid-cols-2" colGap="gap-x-sm" rowGap="gap-y-sm" className="!mb-2xl !mt-lg">
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Chip variant="outlined" color="success"><Icon type="check_circle" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que fazer</Chip>
      <Text className="!m-0">Use √≠cones claros e distintos que representam a a√ß√£o, com r√≥tulos acess√≠veis (`ariaLabel`) que descrevem exatamente o que ser√° feito.</Text>
    </Flex>
    <Flex rowGap="gap-x-sm">
     <IconButton icon="save" iconClassName="!font-[Material_Symbols_Outlined]" variant="filled" color="primary" ariaLabel="Salvar altera√ß√µes" />
      <IconButton icon="delete" iconClassName="!font-[Material_Symbols_Outlined]" variant="outlined" color="secondary" ariaLabel="Deletar item" />
    </Flex>
  </Flex>
  <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-sm" radius="rounded-lg" paddingX="px-sm" paddingY="py-sm" className="border border-default-border">
    <Flex direction="flex-col" rowGap="gap-x-sm" colGap="gap-y-nano" className="!mb-sm">
      <Chip variant="outlined" color="error"><Icon type="cancel" color="inherit" fontSize="text-lg" className="sb-unstyled" /> O que n√£o fazer</Chip>
      <Text className="!m-0">Agrupar √≠cones de a√ß√µes diferentes com representa√ß√µes parecidas e n√£o descrevendo claramente a a√ß√£o descrita pelo `ariaLabel`</Text>
    </Flex>
    <Flex rowGap="gap-x-sm">
      <IconButton icon="person" iconClassName="!font-[Material_Symbols_Outlined]" variant="filled" color="primary" ariaLabel="Perfil do usu√°rio" />

      <IconButton icon="account_circle" iconClassName="!font-[Material_Symbols_Outlined]" variant="filled" color="secondary" ariaLabel="Mensagens do usu√°rio" />
    </Flex>
  </Flex>
</Grid>

## ‚ôø Acessibilidade

Por padr√£o, o componente `IconButton` j√° implementa diretrizes essenciais de acessibilidade para garantir que todos os usu√°rios possam interagir com ele de forma eficaz:

- O bot√£o pode ser ativado pelas teclas Espa√ßo e *Enter* no teclado, conforme recomendado pelo padr√£o <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard.html" target="_blank">WCAG 2.1.1 (Keyboard)</Link>;
- A borda de foco vis√≠vel possui pelo menos **2 p√≠xeis** de espessura e est√° sempre vis√≠vel, sem ficar oculta por outros elementos, conforme <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/focus-appearance-enhanced" target="_blank">WCAG 2.4.12 (Focus Appearance)</Link>;
- Quando o bot√£o √© representado apenas por um √≠cone, o componente j√° exige o uso da propriedade `ariaLabel`, que garante uma descri√ß√£o acess√≠vel da a√ß√£o, conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/non-text-content.html" target="_blank">WCAG 1.1.1 (Non-text Content)</Link>;
- O estado de foco √© sempre preservado quando aplic√°vel, incluindo um suporte visual claro,, conforme recomendado pela <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/focus-visible" target="_blank">WCAG 2.4.7 (Focus Visible)</Link>. Mesmo quando o bot√£o est√° desabilitado, o estilo visual de foco √© mantido para refor√ßar a percep√ß√£o de que ele est√° presente na interface, promovendo melhor experi√™ncia para todos os usu√°rios.


### üìå Boas pr√°ticas de acessibilidade ao utilizar o componente

Para complementar e garantir a acessibilidade, √© importante considerar:

- Priorize o uso do tamanho `large` (44x44px) do `IconButton` em contextos onde o bot√£o ser√° tocado diretamente, garantindo a √°rea m√≠nima recomendada pela <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/target-size.html" target="_blank">WCAG 2.5.5 (Target Size)</Link> para dispositivos de toque. Se optar pelos tamanhos `medium` (32x32px) ou `small` (24x24px), certifique-se de que haja espa√ßamento suficiente ao redor do bot√£o para compensar a √°rea de toque, mantendo a acessibilidade;
- O uso de `Tooltip` √© opcional, mas pode ajudar a refor√ßar visualmente o significado do bot√£o para todos os usu√°rios. Embora n√£o seja obrigat√≥rio, ele pode apoiar a compreens√£o conforme a <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/labels-or-instructions.html" target="_blank">WCAG 3.3.2 (Labels or Instructions)</Link>;
- Quando os bot√µes est√£o desativados na interface do usu√°rio, as diretrizes de contraste de cores n√£o se aplicam aos componentes desativados. As <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html#inactive-controls" target="_blank">diretrizes de contraste m√≠nimo definidas nas WCAG 2.1</Link> declaram explicitamente que os componentes desativados est√£o isentos da diretriz;
- √â recomendado informar o motivo do bot√£o estar desabilitado para garantir clareza ao usu√°rio, seguindo as diretrizes de <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/info-and-relationships.html" target="_blank">WCAG 1.3.1 (Information and Relationships)</Link> e <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/labels-or-instructions.html" target="_blank">3.3.2 (Labels or Instructions)</Link>, podendo usar texto vis√≠vel ou `aria-describedby`;
- Utilize `onClick` para definir a a√ß√£o ao clicar e `onKeyDown` para capturar eventos de teclado (*Enter* e Espa√ßo), garantindo ativa√ß√£o pelo teclado al√©m das fun√ß√µes padr√£o; conforme <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard.html" target="_blank">WCAG 2.1 (Keyboard)</Link>;
- Preserve os recursos visuais de acessibilidade (foco, contraste) ao customizar estilos ou *tokens*, mantendo a consist√™ncia com os testes de acessibilidade j√° realizados; conforme <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/focus-visible.html" target="_blank">WCAG 2.4.7 (Focus Visible)</Link>, <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html" target="_blank">WCAG 1.4.3 (Contrast Minimum)</Link> e <Link className="sb-unstyled text-sm" href="https://www.w3.org/WAI/WCAG22/Understanding/focus-appearance-enhanced.html" target="_blank">WCAG 2.4.13 (Focus Appearance - Enhanced)</Link>.